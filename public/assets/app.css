/* App theme stylesheet
   Code comments in English only.
*/

/* ---------- CSS Variables (Light by default) ---------- */
:root {
  --bg: #f5f6f7;
  --text: #1e1f22;
  --muted: #5c606a;
  --card: #ffffff;
  --surface: #fbfbfc;
  --border: rgba(0, 0, 0, 0.08);

  --primary: #546e7a;    /* blue-grey 600 */
  --primary-contrast: #ffffff;
  --accent: #90caf9;     /* light blue 300 */

  --shadow: 0 6px 24px rgba(0,0,0,.08);
}

/* ---------- Dark mode (auto) ---------- */
@media (prefers-color-scheme: dark) {
  :root {
    --bg: #111316;
    --text: #e7e9ee;
    --muted: #a0a5b1;
    --card: #181b1f;
    --surface: #14171b;
    --border: rgba(255,255,255,0.08);

    --primary: #90a4ae;
    --primary-contrast: #111316;
    --accent: #64b5f6;

    --shadow: 0 10px 30px rgba(0,0,0,.45);
  }
}

/* ---------- Manual dark theme opt-in (fallback) ---------- */
[data-theme="dark"] {
  --bg: #111316;
  --text: #e7e9ee;
  --muted: #a0a5b1;
  --card: #181b1f;
  --surface: #14171b;
  --border: rgba(255,255,255,0.08);

  --primary: #90a4ae;
  --primary-contrast: #111316;
  --accent: #64b5f6;

  --shadow: 0 10px 30px rgba(0,0,0,.45);
}

/* ---------- Base layout ---------- */
html, body { background: var(--bg); color: var(--text); }

/* Header: force neutral background (even if Materialize color classes are present) */
header, .navbar-fixed, .navbar-fixed nav,
nav, nav.nav-extended, nav .nav-wrapper {
  background-color: var(--card) !important;
  background: var(--card) !important;
  border-bottom: 1px solid var(--border);
  box-shadow: none !important;
}
nav.teal, nav.green, .nav-wrapper.teal, .nav-wrapper.green,
header .teal, header .green, .navbar-fixed .teal, .navbar-fixed .green {
  background-color: var(--card) !important;
  background: var(--card) !important;
}
nav .brand-logo, nav a, nav ul li a { color: var(--text) !important; }

main { padding-bottom: 64px; }

/* Cards & panels */
.card { background: var(--card); border: 1px solid var(--border); box-shadow: var(--shadow); }
.card .card-title { color: var(--text); }
.card .card-content p { color: var(--text); }

/* ---------- Typography helpers ---------- */
.text-muted, .grey-text { color: var(--muted) !important; }

/* ---------- Buttons ---------- */
.btn, .btn-large {
  background-color: var(--primary) !important;
  color: var(--primary-contrast) !important;
  box-shadow: none;
}
.btn:hover, .btn-large:hover { filter: brightness(1.05); }
.btn-flat { color: var(--primary) !important; }

/* ---------- Inputs ---------- */
.input-field input, .input-field textarea.materialize-textarea {
  color: var(--text);
  border-bottom: 1px solid var(--border);
}
.input-field input:focus, .input-field textarea.materialize-textarea:focus {
  border-bottom: 1px solid var(--accent);
  box-shadow: 0 1px 0 0 var(--accent);
}
.input-field label { color: var(--muted); }
.input-field input:focus + label, .input-field textarea:focus + label { color: var(--accent); }

/* ---------- Toast ---------- */
#toast-container .toast {
  background: var(--card);
  color: var(--text);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

/* ---------- Stars (rating) ---------- */
.star-btn { border: none; background: transparent; padding: 4px; cursor: pointer; }
.star-btn .material-icons.star-icon { font-size: 28px; vertical-align: middle; color: var(--accent); }
.star-btn:hover .material-icons.star-icon { transform: translateY(-1px); }
.star-btn[disabled] { opacity: .6; cursor: not-allowed; }

/* ---------- Links ---------- */
a { color: var(--accent); }
a:hover { filter: brightness(1.1); }

/* ---------- Collections (Materialize) ---------- */
.collection { border: 1px solid var(--border) !important; background: var(--card) !important; }
.collection .collection-item {
  background-color: transparent !important;
  color: var(--text) !important;
  border-bottom: 1px solid var(--border) !important;
}
.collection .collection-item:last-child { border-bottom: none !important; }
.collection .secondary-content, .collection .title { color: var(--muted) !important; }

/* Comments list readability */
.comments-list { list-style: none; margin: 0; padding: 0; }
.collection .collection-item .comment-body {
  white-space: pre-wrap;         /* keep line breaks */
  word-break: break-word;        /* long words/URLs won't break layout */
}

/* Subtle appear animation for new/updated items */
.fade-in { animation: fadeInUp .18s ease-out; }
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(4px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* ---------- Chips / badges ---------- */
.badge, .chip { background: var(--surface); color: var(--text); border: 1px solid var(--border); }

/* ---------- Utility spacing ---------- */
.mt-2 { margin-top: .5rem; }
.mt-3 { margin-top: 1rem; }
.mt-4 { margin-top: 1.5rem; }
.right-align { text-align: right; }

/* ---------- Tables ---------- */
table.striped > tbody > tr:nth-child(odd) { background-color: var(--surface); }
table, th, td { color: var(--text); border-color: var(--border); }

/* ---------- Footer (neutral) ---------- */
footer.page-footer {
  background: var(--card) !important;
  color: var(--muted) !important;
  border-top: 1px solid var(--border);
  box-shadow: none;
}
footer.page-footer .footer-copyright {
  background: transparent !important;
  color: var(--muted) !important;
  border-top: 1px solid var(--border);
}

/* ---------- Modal (Materialize) ---------- */
.modal {
  background: var(--card) !important;
  color: var(--text) !important;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}
.modal .modal-content { background: transparent !important; color: inherit !important; }
.modal .modal-footer { background: transparent !important; border-top: 1px solid var(--border); }
.modal-overlay { background: rgba(0,0,0,.5); }

/* ---------- Misc ---------- */
hr { border: 0; border-top: 1px solid var(--border); }
.material-icons { color: inherit; }
